/*
0 * sudoku_collection_san.c
 *
 *  Created on: 16/12/2015
 *      Author: a604409
 */
#include "sudoku_collection_san.h"

char cuadriculas[NUM_CUADRICULAS][COMPRESSED_SIZE] = {

{ 0x96, 0x00, 0x00, 0x70, 0x88, 0x00, 0x00, 0x43, 0x00, 0x10, 0x05, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x01, 0x76, 0x20, 0x00, 0x93, 0x00, 0x57, 0x08, 0x00,
		0x00, 0x00, 0x00, 0x70, 0x32, 0x04, 0x03, 0x82, 0x10, 0x56, 0x00, 0x04,
		0x10, 0x09, 0x52, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x34, 0x00, 0x30, 0x10, 0x00,
		0x50, 0x02, 0x60, 0x00, 0x40, 0x07, 0x00, 0x24, 0x50, 0x08, 0x04, 0x03,
		0x91, 0x02, 0x00, 0x72, 0x00, 0x05, 0x00, 0x30, 0x07, 0x54, 0x00, 0x90,
		0x50, 0x68, 0x01, 0x70 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x03, 0x00, 0x31, 0x40, 0x05,
		0x00, 0x04, 0x05, 0x00, 0x06, 0x00, 0x70, 0x08, 0x10, 0x00, 0x30, 0x90,
		0x00, 0x20, 0x07, 0x03, 0x60, 0x01, 0x03, 0x05, 0x00, 0x07, 0x64, 0x60,
		0x00, 0x07, 0x00, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x01, 0x20, 0x00, 0x00, 0x13, 0x04, 0x05,
		0x00, 0x00, 0x00, 0x05, 0x00, 0x02, 0x56, 0x00, 0x70, 0x86, 0x00, 0x02,
		0x53, 0x10, 0x03, 0x80, 0x07, 0x00, 0x50, 0x46, 0x20, 0x91, 0x80, 0x90,
		0x00, 0x80, 0x00, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x02, 0x00, 0x34, 0x50, 0x00, 0x60, 0x70, 0x89,
		0x00, 0x04, 0x00, 0x05, 0x30, 0x03, 0x00, 0x00, 0x00, 0x46, 0x00, 0x34,
		0x87, 0x10, 0x06, 0x00, 0x02, 0x10, 0x00, 0x91, 0x03, 0x62, 0x05, 0x20,
		0x00, 0x10, 0x06, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x13, 0x45,
		0x00, 0x00, 0x03, 0x50, 0x64, 0x00, 0x57, 0x00, 0x80, 0x00, 0x90, 0x08,
		0x20, 0x70, 0x04, 0x23, 0x00, 0x19, 0x06, 0x00, 0x04, 0x90, 0x03, 0x83,
		0x90, 0x00, 0x04, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x30, 0x00, 0x41, 0x30, 0x56,
		0x00, 0x30, 0x06, 0x00, 0x70, 0x08, 0x00, 0x09, 0x00, 0x24, 0x00, 0x00,
		0x51, 0x00, 0x06, 0x08, 0x04, 0x70, 0x07, 0x00, 0x00, 0x00, 0x00, 0x90,
		0x00, 0x73, 0x01, 0x00 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x01, 0x20, 0x00, 0x00, 0x13, 0x40, 0x05,
		0x00, 0x00, 0x02, 0x06, 0x75, 0x02, 0x56, 0x00, 0x10, 0x86, 0x00, 0x05,
		0x10, 0x20, 0x03, 0x70, 0x90, 0x58, 0x00, 0x46, 0x28, 0x00, 0x17, 0x80,
		0x00, 0x07, 0x00, 0x40 },

{ 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x01, 0x20, 0x00, 0x00, 0x03, 0x40, 0x05,
		0x00, 0x01, 0x02, 0x06, 0x75, 0x05, 0x26, 0x00, 0x10, 0x86, 0x00, 0x05,
		0x10, 0x20, 0x06, 0x42, 0x80, 0x01, 0x70, 0x73, 0x09, 0x05, 0x80, 0x80,
		0x00, 0x07, 0x00, 0x40 },

{ 0x00, 0x00, 0x00, 0x01, 0x20, 0x00, 0x00, 0x34, 0x00, 0x00, 0x40, 0x50, 0x60,
		0x00, 0x01, 0x70, 0x60, 0x00, 0x03, 0x05, 0x10, 0x07, 0x07, 0x00, 0x00,
		0x01, 0x06, 0x01, 0x00, 0x80, 0x02, 0x08, 0x03, 0x20, 0x57, 0x01, 0x90,
		0x24, 0x01, 0x86, 0x00 } };

char cuadriculaComprimida[COMPRESSED_SIZE] = { 0x96, 0x00, 0x00, 0x70, 0x88,
		0x00, 0x00, 0x43, 0x00, 0x10, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
		0x76, 0x20, 0x00, 0x93, 0x00, 0x57, 0x08, 0x00, 0x00, 0x00, 0x00, 0x70,
		0x32, 0x04, 0x03, 0x82, 0x10, 0x56, 0x00, 0x04, 0x10, 0x09, 0x52, 0x00 };

char cuadriculaCasiResuelta[COMPRESSED_SIZE] = { 0x06, 0x43, 0x21, 0x75, 0x88,
		0x75, 0x96, 0x43, 0x12, 0x12, 0x35, 0x87, 0x96, 0x44, 0x39, 0x25, 0x81,
		0x76, 0x21, 0x67, 0x93, 0x48, 0x57, 0x58, 0x41, 0x62, 0x39, 0x59, 0x76,
		0x32, 0x84, 0x13, 0x82, 0x14, 0x56, 0x97, 0x64, 0x18, 0x79, 0x52, 0x30 };

void sudoku_collection_descomprime(char *compressed,
		CELDA destiny[NUM_FILAS][NUM_COLUMNAS]) {
	int i;
	CELDA numero = 0;
	for (i = 0; i < COMPRESSED_SIZE * 2; ++i) {
		// Tomamos la mitad del char correcto
		if (i % 2 == 0) {
			numero = compressed[i / 2] >> 4;
		} else {
			numero = compressed[i / 2];
		}
		// Lo convertimos a formato destino, marcandolo
		// como pista si es necesario
		numero = (numero & 0xF) << 12;
		if (numero != 0) {
			numero |= 0x0800;
		}
		// Lo ponemos en el destino adecuado
		destiny[i / 9][i % 9] = numero;
	}
}
